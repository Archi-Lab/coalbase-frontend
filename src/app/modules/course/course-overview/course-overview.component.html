<div class="course-page">
  <mat-card class="course-card" *ngFor="let course of courses | async">
    <mat-card-header>
      <div mat-card-avatar class="course-avatar">
        <div>{{buildShortName(course)}}</div>
      </div>
      <mat-card-title>{{course.title}}</mat-card-title>
      <mat-card-subtitle>Lehrveranstaltung</mat-card-subtitle>
    </mat-card-header>

    <mat-expansion-panel class="learning-space-expansion-panel">
      <mat-expansion-panel-header class="learning-space-expansion-panel-header">
        Lernr채ume
      </mat-expansion-panel-header>

      <p *ngIf="course.learningSpaces.length == 0">
        Keine Lernr채ume vorhanden
      </p>

      <mat-list>
        <mat-list-item *ngFor="let learningSpace of course.learningSpaces; let lastItem = last;">
          {{learningSpace.title}}
          <button mat-raised-button class="learning-space-edit" color="accent" [routerLink]="['./' , course.getIdFromUri(), 'learning-spaces', learningSpace.getIdFromUri()]">
            Bearbeiten
          </button>
          <mat-divider *ngIf="!lastItem"></mat-divider>
        </mat-list-item>
      </mat-list>
    </mat-expansion-panel>

    <h3>
      Beschreibung
    </h3>
    <mat-card-content class="course-description-card">
      {{course.description}}
    </mat-card-content>
    <mat-card-actions>
      <button mat-button color="accent" [routerLink]="['/courses', course.getIdFromUri()]">Veranstaltung bearbeiten
      </button>
      <button mat-button color="accent" [routerLink]="['/courses', course.getIdFromUri(),'learning-spaces']">Lernr채ume
        verwalten
      </button>
    </mat-card-actions>
  </mat-card>
  <mat-card class="course-card course-add">
    <button mat-button color="accent" [routerLink]="['/courses/new']">Neue Lehrveranstaltung
      hinzuf체gen
    </button>
  </mat-card>
</div>
